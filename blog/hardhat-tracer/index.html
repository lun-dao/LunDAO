<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="LunDAO RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="LunDAO Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-react-helmet="true">Hardhat tracer | LunDAO</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://lundao.tech/blog/hardhat-tracer"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Hardhat tracer | LunDAO"><meta data-react-helmet="true" name="description" content="å¦‚ä½•åˆ©ç”¨ Hardhat tracer å¥—ä»¶ä¾†è§£æç‰¹å®šçš„äº¤æ˜“"><meta data-react-helmet="true" property="og:description" content="å¦‚ä½•åˆ©ç”¨ Hardhat tracer å¥—ä»¶ä¾†è§£æç‰¹å®šçš„äº¤æ˜“"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-05-22T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/a2468834"><meta data-react-helmet="true" property="article:tag" content="Hardhat,Nomic Labs,Plugin,Trace Transactions"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lundao.tech/blog/hardhat-tracer"><link data-react-helmet="true" rel="alternate" href="https://lundao.tech/blog/hardhat-tracer" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lundao.tech/blog/hardhat-tracer" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ba61c7d6.css">
<link rel="preload" href="/assets/js/runtime~main.67d47840.js" as="script">
<link rel="preload" href="/assets/js/main.2d5310ba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">LunDAO</b></a><a class="navbar__item navbar__link" href="/docs/publish-guideline">é—œæ–¼</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">æ–‡ç« </a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lun-dao/LunDAO" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>DAO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">Recent posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/end-of-lundao">LunDAO çš„çµå°¾</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/crvusd">LLAMMA - crvUSD çš„æ–°æ¸…ç®—æ©Ÿåˆ¶</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/diamond101-4">Diamond 101 (4)</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/diamond101-2">Diamond 101 (2)</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/diamond101-3">Diamond 101 (3)</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">Hardhat tracer</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-05-22T00:00:00.000Z" itemprop="datePublished">May 22, 2022</time> Â· <!-- -->12 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><a href="https://github.com/a2468834" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_9q7L" src="https://github.com/a2468834.png" alt="Chuan-Chun Wang"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/a2468834" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chuan-Chun Wang</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>æœ¬æ–‡ç« å°‡å±•ç¤ºå¦‚ä½•ä½¿ç”¨çŸ¥åé–‹ç™¼æ¡†æ¶ Hardhat çš„é™„åŠ å…ƒä»¶ã€Œhardhat-tracerã€ï¼Œä»¤é–‹ç™¼è€…èƒ½è¦–è¦ºåŒ–åœ°äº†è§£ç‰¹å®š transaction é‹ä½œéç¨‹ï¼ŒåŠ é€Ÿé–‹ç™¼æµç¨‹èˆ‡é™ä½é™¤éŒ¯é›£åº¦ã€‚</p><p>é–‹ç™¼å¤§å‹æ™ºèƒ½åˆç´„ï¼ˆsmart contractï¼‰å°ˆæ¡ˆçš„éç¨‹ä¸­ï¼Œä¸€å®šå°‘ä¸äº†èˆ‡å…¶ä»–åˆç´„åšäº’å‹•ï¼Œä¾‹å¦‚ï¼šDEX èšåˆå™¨ï¼ˆaggregatorï¼‰çš„é–‹ç™¼åœ˜éšŠï¼Œå°±å¿…é ˆç†Ÿæ‚‰å¦‚ä½•èˆ‡ DEX åˆç´„ç›´æ¥äº’å‹•ã€‚å› æ­¤ï¼Œå¦‚ä½•å–å¾—ä¸€æ¬¾å¥½ç”¨çš„å·¥å…·èƒ½å¿«é€Ÿã€ç°¡è¦ã€è¦–è¦ºåŒ–åœ°å‘ˆç¾å‡ºåŸ·è¡Œä¸€æ¢ transaction éç¨‹ï¼ŒåŒ…å«æ‰€æœ‰ message callã€event log ç­‰ï¼Œå°±é¡¯å¾—æ ¼å¤–é‡è¦ï¼Œæœ¬æ–‡å°‡ä»‹ç´¹å¹¾æ¬¾å·¥å…·å¯ä»¥é”æˆæ­¤ä¸€ç›®çš„ã€‚éš¨è‘—ç›®å‰ smart contract å°ˆæ¡ˆæ—¥ç›Šè¤‡é›œï¼Œé–‹ç™¼è€…å°é€™æ–¹é¢çš„éœ€æ±‚è“¬å‹ƒç™¼å±•ï¼Œå› æ­¤æ–°å¥—ä»¶æ¨é™³å‡ºæ–°ï¼›éå¸¸æ­¡è¿ç†±å¿ƒçš„è®€è€…å‰å¾€ LunDAO <a href="https://github.com/lun-dao/LunDAO/issues" target="_blank" rel="noopener noreferrer">Issues</a> æˆ– <a href="https://github.com/lun-dao/LunDAO/discussions" target="_blank" rel="noopener noreferrer">Discussions</a> é é¢èˆ‡å¤§å®¶åˆ†äº«ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å®‰è£ç’°å¢ƒèˆ‡æ³¨æ„äº‹é …">å®‰è£ç’°å¢ƒèˆ‡æ³¨æ„äº‹é …<a class="hash-link" href="#å®‰è£ç’°å¢ƒèˆ‡æ³¨æ„äº‹é …" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡<strong>ä¸æœƒ</strong>æä¾› Hardhat çš„å®‰è£æŒ‡å¼•æˆ–åŸºç¤æ•™å­¸ï¼Œç›¸é—œå…§å®¹æ•¬è«‹åƒè€ƒ LunDAO å…¶ä»–æ–‡ç« ï¼ˆä¾‹å¦‚ï¼š<a href="/blog/hardhat-intro">Hardhat ç°¡ä»‹</a>ï¼‰ã€‚</p><p>ä»¥ä¸‹åˆ—å‡ºç­†è€…å¯¦éš›æ¸¬è©¦èƒ½å¤ é‹è¡Œæœ¬æ–‡æ­¥é©Ÿçš„è»Ÿé«”æ¢ä»¶ï¼Œå¯¦éš›æƒ…æ³å¿…ä¸é™æ–¼æ­¤é…ç½®æ•¬è«‹è®€è€…åƒé…Œè€ƒé‡ã€‚</p><ul><li>Software<ul><li>OS<ul><li>Windows 10 Pro 21H1 (w/o WSL)</li><li>Ubuntu 20.04.4 LTS (GNU/Linux 5.4.0-1053-raspi aarch64)</li></ul></li><li>Node.js v16.14.2</li><li>Yarn 1.22.18</li><li>hardhat-tracer v1.1.0-<strong>rc.6</strong></li></ul></li></ul><p>ç”±æ–¼æœ¬æ–‡å¾ŒçºŒæœƒæ¶‰åŠä½¿ç”¨ Hardhat Network çš„å…§å®¹ï¼Œå› æ­¤å¼·çƒˆæ¨è–¦è®€è€…æ‡‰å…·å‚™æ­¤éƒ¨åˆ†æ“ä½œç¶“é©—ï¼›LunDAO äº¦å·²æœ‰æ­¤ç³»åˆ—æ•™å­¸æ–‡ç« ï¼Œæ­¡è¿å¤šåŠ é–±è®€ä¸¦èˆ‡å¤§å®¶è¨è«–ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä½¿ç”¨-hardhat-tracer-å¥—ä»¶">ä½¿ç”¨ hardhat-tracer å¥—ä»¶<a class="hash-link" href="#ä½¿ç”¨-hardhat-tracer-å¥—ä»¶" title="Direct link to heading">â€‹</a></h2><p>ç”±æ–¼ hardhat-tracer æœƒéœ€è¦å‘ Ethereum node ç™¼é€ <code>debug_traceTransaction</code>ã€<code>eth_getStorageAt</code>ã€<code>eth_getCode</code> ç­‰ JSON-RPC method æ’ˆå–æ­·å²è³‡æ–™ï¼Œå› æ­¤å‹™å¿…ç¢ºèªæ‚¨å·²ç¶“é€£æ¥åˆ°æ­¸æª”ç¯€é»ï¼ˆarchive nodeï¼‰ã€‚æ‚¨å¯ä»¥è‡ªè¡Œæ¶è¨­<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> archive nodeï¼Œæˆ–ä½¿ç”¨ç¯€é»ä¾›æ‡‰å•†æä¾›çš„æœå‹™ï¼›åœ¨ç­†è€…æ’°æ–‡çš„ç•¶ä¸‹ï¼ŒAlchemy ä»æœ‰æä¾›å…è²» Ethereum mainnet archive nodeï¼Œå› æ­¤ç­†è€…é¸æ“‡ä½¿ç”¨æ­¤æœå‹™ã€‚</p><p>å‡è¨­æˆ‘å€‘æƒ³çŸ¥é“é€™å€‹ transaction<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> çš„è©³ç´°éç¨‹ï¼ˆView on <a href="https://etherscan.io/tx/0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c" target="_blank" rel="noopener noreferrer">Etherscan</a>ï¼‰ï¼š</p><blockquote><p>0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c</p></blockquote><p>é—œæ–¼ <code>hardhat.config.js</code> çš„å…§å®¹ï¼Œä»¥ä¸‹åƒ…åˆ—å‡ºèˆ‡æ­¤å¥—ä»¶æœ‰é—œçš„æ¬„ä½ï¼Œå…¶ä»–ç´°ç¯€è«‹åƒè€ƒç›¸é—œèªªæ˜æ–‡ä»¶ã€‚</p><div class="codeBlockContainer_J+bg language-Javascript theme-code-block"><div class="codeBlockContent_csEI Javascript"><pre tabindex="0" class="prism-code language-Javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">require(&quot;hardhat-tracer&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networks: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainnet: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          url: process.env.AlchemyURL,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hardhat: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            forking: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                url: process.env.AlchemyURL,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol><li>åœ¨è³‡æ–™å¤¾åº•ä¸‹å®‰è£ hardhat-tracer å¥—ä»¶ï¼ˆå‡è¨­è©²è³‡æ–™å¤¾å·²å®‰è£å®Œæˆ Hardhatï¼‰</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn add hardhat-tracer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼ˆæ³¨æ„è¦æŒ‡å®š <code>--network</code> åƒæ•¸<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>è®“ Hardhat èƒ½é€£çµåˆ°æ­£ç¢ºçš„ç¶²è·¯ï¼‰</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="3"><li>ç­‰å€™æ•¸åˆ†é˜ä¹‹å¾Œï¼Œå°±å¯ä»¥çœ‹åˆ° terminal é¡¯ç¤ºä»¥ä¸‹è³‡è¨Š</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn run v1.22.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Seems that it is taking time to fetch the state involved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please note that this process may take several minutes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A lot of eth_getStorageAt requests are currently being made to the rpc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CALL UnknownContractAndFunction(to=0x3b7157e5e732863170597790b4c005436572570f, input=0xf6326fb3, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   EVENT &lt;UnknownContract 0x3b7157E5E732863170597790b4c005436572570F&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0x8752a472e571a816aea92eec8dae9baf628e840f4929fbcc2d155e6233ff68a7, 0x000000000000000000000000e760f546a925a4cfdcc62a674d14cc42a676c06f, 0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CALL UnknownContractAndFunction(to=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2, input=0xd0e30db0, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      EVENT &lt;UnknownContract 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c, 0x0000000000000000000000003b7157e5e732863170597790b4c005436572570f])</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="4"><li>ä»¥ä¸Šè§£æçµæœç‚º hardhat-tracer é è¨­è§£ææ¨¡å¼ï¼Œåƒ…é¡¯ç¤º event log å’Œ function callï¼›è‹¥æ‚¨æƒ³è¦ä¸€ä½µäº†è§£ state variables çš„è®€å¯«æƒ…æ³ï¼ˆ<a href="https://www.evm.codes/#54" target="_blank" rel="noopener noreferrer"><code>SLOAD</code></a>ã€<a href="https://www.evm.codes/#55" target="_blank" rel="noopener noreferrer"><code>SSTORE</code></a>ï¼‰ï¼Œé‚£éº¼å¯ä»¥å¤šåŠ ä¸Š <code>--fulltrace</code> åƒæ•¸</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --fulltrace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn run v1.22.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Seems that it is taking time to fetch the state involved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please note that this process may take several minutes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A lot of eth_getStorageAt requests are currently being made to the rpc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CALL UnknownContractAndFunction(to=0x3b7157e5e732863170597790b4c005436572570f, input=0xf6326fb3, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x0000000000000000000000000000000000000000000000000000000000000001 =&gt; (0x0000000000000000000000000000000000000000000000000000000000000001)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0x0000000000000000000000000000000000000000000000000000000000000001 &lt;= (0x0000000000000000000000000000000000000000000000000000000000000002)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x0000000000000000000000000000000000000000000000000000000000000005 =&gt; (0x0000000000000000000000000000000000000000000000000000000062196d80)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x0000000000000000000000000000000000000000000000000000000000000006 =&gt; (0x00000000000000000000000000000000000000000000000000000000621d6200)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x5cc08dfcef394bb3e1501dd9c602b313a910bc96e6e3b9f14c10c5608560cb26 =&gt; (0x0000000000000000000000005f4ec3df9cbd43714fe2740f5e3616155c5b8419)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56d =&gt; (0x0000000000000000000000000000000000000000000000000000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56d =&gt; (0x0000000000000000000000000000000000000000000000000000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56d &lt;= (0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56e =&gt; (0x0000000000000000000000000000000000000000000000000000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56e &lt;= (0x000000000000000000000000000000000000000000000000008e1bc9bf040000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x5cc08dfcef394bb3e1501dd9c602b313a910bc96e6e3b9f14c10c5608560cb27 =&gt; (0x00000000000000000000000000000000000000000000025e69bc17dc01d0d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0x5cc08dfcef394bb3e1501dd9c602b313a910bc96e6e3b9f14c10c5608560cb27 &lt;= (0x00000000000000000000000000000000000000000000025e6a4a33a5c0d4d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   EVENT &lt;UnknownContract 0x3b7157E5E732863170597790b4c005436572570F&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0x8752a472e571a816aea92eec8dae9baf628e840f4929fbcc2d155e6233ff68a7, 0x000000000000000000000000e760f546a925a4cfdcc62a674d14cc42a676c06f, 0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CALL UnknownContractAndFunction(to=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2, input=0xd0e30db0, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      SLOAD 0x42dd4d28989ab1eee96fb196b01de4c17c0f145bc71364b95645949f1f133408 =&gt; (0x00000000000000000000000000000000000000000000025e69bc17dc01d0d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      SSTORE 0x42dd4d28989ab1eee96fb196b01de4c17c0f145bc71364b95645949f1f133408 &lt;= (0x00000000000000000000000000000000000000000000025e6a4a33a5c0d4d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      EVENT &lt;UnknownContract 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c, 0x0000000000000000000000003b7157e5e732863170597790b4c005436572570f])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0x0000000000000000000000000000000000000000000000000000000000000001 &lt;= (0x0000000000000000000000000000000000000000000000000000000000000001)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åˆ°é€™é‚Šç‚ºæ­¢ï¼Œæˆ‘å€‘å·²ç¶“æˆåŠŸä½¿ç”¨ hardhat-tracer å¥—ä»¶ä¾†è§£æ transaction äº†ã€‚ç„¶è€Œï¼Œä»¥ä¸Šè³‡è¨Šåœ¨åˆç´„åœ°å€ã€event åç¨±ç­‰éƒ¨åˆ†ï¼Œä»¥åŸå§‹å‹æ…‹å‘ˆç¾é€ æˆç‰ˆé¢å†—é•·ä¸”æ··äº‚ï¼Œä¸åˆ©æ–¼æˆ‘å€‘é–±è®€ã€‚</p><p>æ‰€å¹¸ hardhat-tracer å¥—ä»¶æä¾› address name tag åŠŸèƒ½ï¼Œè®“æˆ‘å€‘å¯ä»¥è‡ªå®šç¾©ä»€éº¼åœ°å€è¦ä»¥ä»€éº¼åç¨±æ¨™ç±¤ä¾†é¡¯ç¤ºã€‚å¦å¤–ï¼Œhardhat-tracer ä¹Ÿæ”¯æ´åŒ¯å…¥å·²çŸ¥åˆç´„çš„ç¨‹å¼ç¢¼æˆ– <code>interface</code>ï¼Œè®“è§£æçµæœå¯ä»¥è‡ªå‹•å¸¶å…¥è©²åˆç´„ä¾†é¡¯ç¤ºã€‚</p><p>æ ¹æ“šä¸Šè¿°çµæœï¼Œæˆ‘å€‘å¯ç™¼ç¾åŸ·è¡Œ transaction çš„éç¨‹æœƒèˆ‡å…©å€‹åˆç´„äº’å‹• â€” <code>0x3b7157E5E732863170597790b4c005436572570F</code> å’Œ <code>0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2</code>ï¼›å› æ­¤ï¼Œæˆ‘å€‘å¯ä»¥å‰å¾€ Etherscan ä¾†æŸ¥è©¢é€™äº›åˆç´„çš„ ABIï¼Œå†æ­é… <a href="https://bia.is/tools/abi2solidity/" target="_blank" rel="noopener noreferrer">ABI2Solidity</a> ä¾†æŠŠ JSON format è½‰æˆ solidity <code>interface</code> formatã€‚</p><ol start="5"><li>æŒ‰ç…§ä¸€èˆ¬ä½¿ç”¨ Hardhat çš„ç¿’æ…£ï¼Œæˆ‘å€‘åœ¨ <code>contracts</code> å­ç›®éŒ„åº•ä¸‹å‰µå»ºé€™ä»½ solidity code <sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup></li></ol><div class="codeBlockContainer_J+bg language-solidity theme-code-block"><div class="codeBlockContent_csEI solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// SPDX-License-Identifier: GPL-3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity 0.8.7;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Assume that 0x3b7157E5E732863170597790b4c005436572570F is named as &quot;TokenSale&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface TokenSale {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function WETH (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function allocateTokensForSale ( uint256 _amount ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function availableTokens (  ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function deposit ( address _token, uint256 _amount ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function depositETH (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function enableWithdrawals (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function finalizeRaise (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getSupportedTokens (  ) external view returns ( address[] memory );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getTokenOracle ( address _token ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getTokenOracles (  ) external view returns ( address[] memory oracles );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getUserClaimableTokens ( address _user ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function owner (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function renounceOwnership (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function saleSchedule (  ) external view returns ( uint256 startTimestamp, uint256 endTimestamp );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function saleToken (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function setSaleSchedule ( uint256 _start, uint256 _end ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function totalRaisedUSD (  ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transferOwnership ( address newOwner ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transferToTreasury (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function treasury (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function userAccounts ( address ) external view returns ( address token, uint256 depositedAmount );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function withdraw (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function withdrawalsEnabled (  ) external view returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  Assume that 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 is named as &quot;WrappedEther&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface WrappedEther {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function name (  ) external view returns ( string memory );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function approve ( address guy, uint256 wad ) external returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function totalSupply (  ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transferFrom ( address src, address dst, uint256 wad ) external returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function withdraw ( uint256 wad ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function decimals (  ) external view returns ( uint8 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function balanceOf ( address ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function symbol (  ) external view returns ( string memory );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transfer ( address dst, uint256 wad ) external returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function deposit (  ) external payable;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function allowance ( address, address ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="6"><li>åŸ·è¡Œ <code>$ yarn hardhat compile</code> ç·¨è­¯æ‰€æœ‰ solidity codes</li><li>é€²å…¥ <code>hardhat.config.js</code> æ–°å¢ä»¥ä¸‹æ¬„ä½ï¼Œè®“ç‰¹å®š address ä»¥é–‹ç™¼è€…è‡ªå®šç¾©çš„åç¨±æ¨™ç±¤ï¼ˆname tageï¼‰é¡¯ç¤º</li></ol><div class="codeBlockContainer_J+bg language-Javascript theme-code-block"><div class="codeBlockContent_csEI Javascript"><pre tabindex="0" class="prism-code language-Javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tracer: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nameTags: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;0x3b7157E5E732863170597790b4c005436572570F&quot;]: &quot;TokenSale&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2&quot;]: &quot;WrappedEther&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;0xe760f546a925a4cfdcc62a674d14cc42a676c06f&quot;]: &quot;Someone&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="8"><li>é‡æ–°åŸ·è¡Œ hardhat-tracer æŒ‡ä»¤ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°å¯è®€æ€§è®Šå¾—å¾ˆé«˜ï¼ˆæ¯”èµ· step 3 ä¾†èªªï¼‰</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn run v1.22.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Seems that it is taking time to fetch the state involved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please note that this process may take several minutes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A lot of eth_getStorageAt requests are currently being made to the rpc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CALL TokenSale.depositETH{value: 40000000000000000}()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   EVENT TokenSale.Deposited(depositor=[Someone], token=[WrappedEther], amount=40000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CALL WrappedEther.deposit{value: 40000000000000000}()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      EVENT WrappedEther.Deposit(dst=[TokenSale], wad=40000000000000000)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä½¿ç”¨åœ–å½¢åŒ–ä»‹é¢å·¥å…·">ä½¿ç”¨åœ–å½¢åŒ–ä»‹é¢å·¥å…·<a class="hash-link" href="#ä½¿ç”¨åœ–å½¢åŒ–ä»‹é¢å·¥å…·" title="Direct link to heading">â€‹</a></h2><p>é™¤äº†ä½¿ç”¨ä¸Šè¿°å¥—ä»¶ä¹‹å¤–ï¼Œç›®å‰ä¹Ÿæœ‰è¨±å¤šç¶²ç«™æä¾›å…è²»è§£æ transaction çš„æœå‹™ã€‚</p><p>å‡è¨­æˆ‘å€‘æƒ³çŸ¥é“ä»¥ä¸‹é€™ç­† transaction<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> çš„åŸ·è¡Œéç¨‹ï¼ˆView on <a href="https://etherscan.io/tx/0x4a7c2dabf8695f18835ff2aeb133df1a89f0af3759b1832e493bee10e721d998" target="_blank" rel="noopener noreferrer">Etherscan</a>ï¼‰ï¼š</p><blockquote><p>0x4a7c2dabf8695f18835ff2aeb133df1a89f0af3759b1832e493bee10e721d998</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="etherscan-parity-trace">Etherscan Parity Trace<a class="hash-link" href="#etherscan-parity-trace" title="Direct link to heading">â€‹</a></h3><p><img alt="etherscan-parity-trace-1" src="/assets/images/etherscan-parity-trace-1-f6f5b0ed86a42c5bd83a495015d9892b.png"></p><p>å¦‚ä¸Šåœ–æ‰€ç¤ºï¼Œé»æ“Šã€ŒParity Traceã€é¸é …ä¹‹å¾Œï¼Œå°‡é–‹å•Ÿå¦‚åŒä¸‹åœ–çš„å¦ä¸€å€‹åˆ†é ã€‚</p><p><img alt="etherscan-parity-trace-2" src="/assets/images/etherscan-parity-trace-2-0bda0dcd2a348ec3d05a352492c6dfb8.png"></p><p>æ­¤æ–¹æ³•å‘ˆç¾çš„æ•ˆæœè¼ƒä¸è¦–è¦ºåŒ–ï¼Œç„¶è€Œæ‡‰ç‚ºç›®å‰æœ€é€šç”¨çš„åˆ†ææ–¹å¼ï¼›ä¸åª Etherscan æœ‰æ”¯æ´ Parity VM tracerï¼Œå…¶å®ƒçš„ block explorer ç¶²ç«™æ‡‰èƒ½æ‰¾åˆ°é¡ä¼¼åŠŸèƒ½ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="etherscan-transaction-decoder">Etherscan Transaction Decoder<a class="hash-link" href="#etherscan-transaction-decoder" title="Direct link to heading">â€‹</a></h3><p><img alt="etherscan-txn-decoder-1" src="/assets/images/etherscan-txn-decoder-1-65d6e511e86f3ebf684c25336c16b281.png"></p><p>å¦‚ä¸Šåœ–æ‰€ç¤ºï¼Œé»æ“Šã€ŒTransaction Decoderã€é¸é …ä¹‹å¾Œï¼Œå°‡é–‹å•Ÿå¦‚åŒä¸‹åœ–çš„å¦ä¸€å€‹åˆ†é ã€‚</p><p><img alt="etherscan-txn-decoder-2" src="/assets/images/etherscan-txn-decoder-2-1202fa176aa1c5635f7023be81800d31.png"></p><p>å¯ä»¥çœ‹åˆ° Etherscan å·²ç¶“åˆ†é–€åˆ¥é¡åœ°å°‡åŸ·è¡Œ transaction çš„éç¨‹æœƒç™¼å‡ºçš„ event logã€message call ç­‰é‡è¦äº‹ä»¶ï¼Œä»¥æ¢åˆ—è¡¨æ ¼çš„æ–¹å¼å‘ˆç¾å‡ºä¾†ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="ethtxinfo">EthTx.info<a class="hash-link" href="#ethtxinfo" title="Direct link to heading">â€‹</a></h3><p>æ­¤æœå‹™ä»¥ Python æ’°å¯«çš„<a href="https://github.com/ethtx/ethtx" target="_blank" rel="noopener noreferrer">é–‹æºè»Ÿé«”</a>æ‰€å»ºç«‹ï¼Œä¸¦ç”± <a href="https://tokenflow.live/" target="_blank" rel="noopener noreferrer">Token Flow</a> åœ˜éšŠæ‰€ç¶­è­·ï¼Œåœ¨ç­†è€…æ’°æ–‡ç•¶ä¸‹ç‚ºå…è²»å…¬é–‹è®“æ‰€æœ‰é–‹ç™¼è€…è‡ªç”±ä½¿ç”¨ã€‚</p><ol><li>å‰å¾€ <a href="https://ethtx.info/" target="_blank" rel="noopener noreferrer">https://ethtx.info/</a></li><li>é¸æ“‡æ­£ç¢ºçš„ç¶²è·¯ï¼ˆæ­¤ä¾‹ç‚º ETH mainnetï¼‰ï¼Œä¸¦è¼¸å…¥å°æ‡‰çš„ transaction hash</li><li>æŒ‰ä¸‹ã€ŒDecode nowã€æŒ‰éˆ•ï¼Œä¸¦éœå€™æ•¸åˆ†é˜ï¼ˆå¯èƒ½å› ç¶²ç«™å£…å¡åº¦è€Œæœ‰ä¸åŒï¼‰</li></ol><p><img alt="ethtx-info" src="/assets/images/ethtx-info-e2451a0889dfe855f9ebe1359b2d822f.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="tenderly">Tenderly<a class="hash-link" href="#tenderly" title="Direct link to heading">â€‹</a></h3><p>å‰å¾€ <a href="https://dashboard.tenderly.co/explorer" target="_blank" rel="noopener noreferrer">Tenderly</a> å®˜ç¶²ï¼Œåœ¨æœå°‹æ¡†ç•¶ä¸­è¼¸å…¥ transaction hash ä¸¦æŒ‰ä¸‹é€å‡ºæŸ¥è©¢ï¼Œå³å¯ç²å¾—å¦‚ä¸‹åœ–æ‰€ç¤ºçš„ç¶²é ã€‚</p><p><img alt="tenderly" src="/assets/images/tenderly-324a5603c3d17cc1084b89eaee38ce5c.png"></p><p>ç”±æ–¼ Tenderly ä¸åªæä¾›åˆ†æ transaction çš„åŠŸèƒ½ï¼Œé‚„æœ‰éœ€å¤šå¯¦ç”¨çš„å…¶å®ƒå·¥å…·ï¼ˆä¾‹å¦‚ï¼šsimulatorã€local transaction analysisï¼‰ï¼›è‹¥è®€è€…æœ‰èˆˆè¶£çš„è©±ï¼Œå»ºè­°å¯è¨»å†Šä¸€å€‹å…è²»å¸³è™Ÿã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="related-resources">Related resources<a class="hash-link" href="#related-resources" title="Direct link to heading">â€‹</a></h2><ul><li>Hardhat<ul><li><a href="https://hardhat.org/config/" target="_blank" rel="noopener noreferrer">https://hardhat.org/config/</a></li></ul></li><li>Alchemy<ul><li><a href="https://www.alchemy.com/" target="_blank" rel="noopener noreferrer">https://www.alchemy.com/</a></li><li><a href="https://docs.alchemy.com/alchemy/enhanced-apis/debug-api" target="_blank" rel="noopener noreferrer">https://docs.alchemy.com/alchemy/enhanced-apis/debug-api</a></li></ul></li><li>Smart Contracts at Etherscan<ul><li><a href="https://etherscan.io/address/0x3b7157E5E732863170597790b4c005436572570F" target="_blank" rel="noopener noreferrer">https://etherscan.io/address/0x3b7157E5E732863170597790b4c005436572570F</a></li><li><a href="https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2" target="_blank" rel="noopener noreferrer">https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2</a></li></ul></li><li>hardhat-tracer<ul><li><a href="https://www.npmjs.com/package/hardhat-tracer" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/hardhat-tracer</a></li><li><a href="https://github.com/zemse/hardhat-tracer" target="_blank" rel="noopener noreferrer">https://github.com/zemse/hardhat-tracer</a></li></ul></li><li>ABI2Solidity<ul><li><a href="https://bia.is/tools/abi2solidity/" target="_blank" rel="noopener noreferrer">https://bia.is/tools/abi2solidity/</a></li><li><a href="https://github.com/maxme/abi2solidity" target="_blank" rel="noopener noreferrer">https://github.com/maxme/abi2solidity</a></li></ul></li><li>Etherscan Transaction Decoder<ul><li><a href="https://etherscan.io/tx-decoder" target="_blank" rel="noopener noreferrer">https://etherscan.io/tx-decoder</a></li></ul></li><li>EthTx.info<ul><li><a href="https://github.com/ethtx/ethtx" target="_blank" rel="noopener noreferrer">https://github.com/ethtx/ethtx</a></li></ul></li><li>Tenderly<ul><li><a href="https://dashboard.tenderly.co/explorer" target="_blank" rel="noopener noreferrer">https://dashboard.tenderly.co/explorer</a></li></ul></li></ul><div class="footnotes"><hr><ol><li id="fn-2">éœ€è¦æº–å‚™å¤§å®¹é‡ SSDï¼Œå…¶é¤˜ç¡¬é«”æ¢ä»¶è¼ƒç„¡åš´è‹›é™åˆ¶ï¼ˆæ¨¹æ¢…æ´¾ 4B å³è¶³ä»¥é‹è¡Œ Go-Ethereumï¼‰<a href="#fnref-2" class="footnote-backref">â†©</a></li><li id="fn-1">ç­†è€…éš¨æ©ŸæŒ‘é¸çš„ transaction hashï¼Œä¸¦æ²’æœ‰ä»»ä½•ç‰¹æ®Šç”¨æ„<a href="#fnref-1" class="footnote-backref">â†©</a></li><li id="fn-3">ç”±æ–¼ <code>debug_traceTransaction</code> å±¬æ–¼ Alchemy éœ€ä»˜è²»çš„ API methodï¼Œå› æ­¤è‹¥è®€è€…ä½¿ç”¨ Growth ä»¥ä¸Šçš„æ–¹æ¡ˆï¼Œé‚£éº¼æ‚¨å¯ä»¥ç›´æ¥ä»¥ <code>--network &quot;mainnet&quot;</code> é€£çµ Alchemyï¼›å¦ä¸€ç¨®å…è²»çš„æ›¿ä»£æ–¹æ¡ˆå‰‡ç‚ºæ”¹ç”¨ Hardhat Network ä¾†è§£æ transactionï¼Œåªå° Alchemy ç™¼é€ <code>eth_getStorageAt</code>ã€<code>eth_getCode</code> ç­‰è«‹æ±‚ï¼Œå› æ­¤ç­†è€…åœ¨æ­¤ä»¥ <code>--network &quot;hardhat&quot;</code> åƒæ•¸èˆ‰ä¾‹<a href="#fnref-3" class="footnote-backref">â†©</a></li><li id="fn-4">å¦‚æœè®€è€…çŸ¥é“å¾…è§£æ transaction çš„æ‰€æœ‰äº’å‹•åˆç´„ source codeï¼Œé‚£éº¼æ¨è–¦æ‚¨ç›´æ¥æŠŠé‚£äº›ç¨‹å¼ç¢¼åŠ å…¥ <code>contracts</code> å­ç›®éŒ„åº•ä¸‹åšç·¨è­¯ï¼Œé€™æ¨£èƒ½è®“ hardhat-tracer é¡¯ç¤ºçµæœæ“æœ‰æœ€é«˜çš„å¯è®€æ€§ï¼›è‹¥ç„¡æ³•å–å¾—æ‰€æœ‰ source codeï¼Œå‰‡åªä½¿ç”¨åˆç´„å€‘ ABI æ‰€è½‰æˆçš„ <code>interface</code> åšç·¨è­¯äº¦å¯ã€‚<a href="#fnref-4" class="footnote-backref">â†©</a></li></ol></div></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_xD8n"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/hardhat">Hardhat</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/nomic-labs">Nomic Labs</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/plugin">Plugin</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/trace-transactions">Trace Transactions</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/lun-dao/LunDAO/tree/main/blog/2022-05-22-hardhat-tracer/hardhat-tracer.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/diamond101-3"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« <!-- -->Diamond 101 (3)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/hardhat-intro"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Hardhat ç°¡ä»‹<!-- --> Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å®‰è£ç’°å¢ƒèˆ‡æ³¨æ„äº‹é …" class="table-of-contents__link toc-highlight">å®‰è£ç’°å¢ƒèˆ‡æ³¨æ„äº‹é …</a></li><li><a href="#ä½¿ç”¨-hardhat-tracer-å¥—ä»¶" class="table-of-contents__link toc-highlight">ä½¿ç”¨ hardhat-tracer å¥—ä»¶</a></li><li><a href="#ä½¿ç”¨åœ–å½¢åŒ–ä»‹é¢å·¥å…·" class="table-of-contents__link toc-highlight">ä½¿ç”¨åœ–å½¢åŒ–ä»‹é¢å·¥å…·</a><ul><li><a href="#etherscan-parity-trace" class="table-of-contents__link toc-highlight">Etherscan Parity Trace</a></li><li><a href="#etherscan-transaction-decoder" class="table-of-contents__link toc-highlight">Etherscan Transaction Decoder</a></li><li><a href="#ethtxinfo" class="table-of-contents__link toc-highlight">EthTx.info</a></li><li><a href="#tenderly" class="table-of-contents__link toc-highlight">Tenderly</a></li></ul></li><li><a href="#related-resources" class="table-of-contents__link toc-highlight">Related resources</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">é—œæ–¼</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/lun-dao/LunDAO" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>é—œæ–¼ LunDAO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/publish-guideline">æŠ•ç¨¿æ–‡ç« </a></li><li class="footer__item"><a class="footer__link-item" href="/blog">é–±è®€æ–‡ç« </a></li><li class="footer__item"><a class="footer__link-item" href="/docs/request-for-article">æ–‡ç« ææ¡ˆ</a></li><li class="footer__item"><a href="https://github.com/lun-dao/LunDAO/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ç¤¾ç¾¤è²¢ç»æŒ‡å—<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">DAOæ²»ç†</div><ul class="footer__items"><li class="footer__item"><a href="https://coordinape.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>è²¢ç»æŠ•ç¥¨ (Coordinape)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://snapshot.org/#/lundao.eth" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>æ²»ç†æŠ•ç¥¨ (Snapshot)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/treasury">ç¤¾ç¾¤é‡‘åº«</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾ç¾¤</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/lun-dao/LunDAO/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>è¨è«–å€<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/9s3RQmajBu" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 LunDAO. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.67d47840.js"></script>
<script src="/assets/js/main.2d5310ba.js"></script>
</body>
</html>