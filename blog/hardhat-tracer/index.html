<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="LunDAO RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="LunDAO Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-react-helmet="true">Hardhat tracer | LunDAO</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://lundao.tech/blog/hardhat-tracer"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Hardhat tracer | LunDAO"><meta data-react-helmet="true" name="description" content="如何利用 Hardhat tracer 套件來解析特定的交易"><meta data-react-helmet="true" property="og:description" content="如何利用 Hardhat tracer 套件來解析特定的交易"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-05-22T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/a2468834"><meta data-react-helmet="true" property="article:tag" content="Hardhat,Nomic Labs,Plugin,Trace Transactions"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lundao.tech/blog/hardhat-tracer"><link data-react-helmet="true" rel="alternate" href="https://lundao.tech/blog/hardhat-tracer" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lundao.tech/blog/hardhat-tracer" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ba61c7d6.css">
<link rel="preload" href="/assets/js/runtime~main.67d47840.js" as="script">
<link rel="preload" href="/assets/js/main.2d5310ba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">LunDAO</b></a><a class="navbar__item navbar__link" href="/docs/publish-guideline">關於</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">文章</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lun-dao/LunDAO" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>DAO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">Recent posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/end-of-lundao">LunDAO 的結尾</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/crvusd">LLAMMA - crvUSD 的新清算機制</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/diamond101-4">Diamond 101 (4)</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/diamond101-2">Diamond 101 (2)</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/diamond101-3">Diamond 101 (3)</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">Hardhat tracer</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-05-22T00:00:00.000Z" itemprop="datePublished">May 22, 2022</time> · <!-- -->12 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><a href="https://github.com/a2468834" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_9q7L" src="https://github.com/a2468834.png" alt="Chuan-Chun Wang"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/a2468834" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chuan-Chun Wang</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本文章將展示如何使用知名開發框架 Hardhat 的附加元件「hardhat-tracer」，令開發者能視覺化地了解特定 transaction 運作過程，加速開發流程與降低除錯難度。</p><p>開發大型智能合約（smart contract）專案的過程中，一定少不了與其他合約做互動，例如：DEX 聚合器（aggregator）的開發團隊，就必須熟悉如何與 DEX 合約直接互動。因此，如何取得一款好用的工具能快速、簡要、視覺化地呈現出執行一條 transaction 過程，包含所有 message call、event log 等，就顯得格外重要，本文將介紹幾款工具可以達成此一目的。隨著目前 smart contract 專案日益複雜，開發者對這方面的需求蓬勃發展，因此新套件推陳出新；非常歡迎熱心的讀者前往 LunDAO <a href="https://github.com/lun-dao/LunDAO/issues" target="_blank" rel="noopener noreferrer">Issues</a> 或 <a href="https://github.com/lun-dao/LunDAO/discussions" target="_blank" rel="noopener noreferrer">Discussions</a> 頁面與大家分享。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安裝環境與注意事項">安裝環境與注意事項<a class="hash-link" href="#安裝環境與注意事項" title="Direct link to heading">​</a></h2><p>本文<strong>不會</strong>提供 Hardhat 的安裝指引或基礎教學，相關內容敬請參考 LunDAO 其他文章（例如：<a href="/blog/hardhat-intro">Hardhat 簡介</a>）。</p><p>以下列出筆者實際測試能夠運行本文步驟的軟體條件，實際情況必不限於此配置敬請讀者參酌考量。</p><ul><li>Software<ul><li>OS<ul><li>Windows 10 Pro 21H1 (w/o WSL)</li><li>Ubuntu 20.04.4 LTS (GNU/Linux 5.4.0-1053-raspi aarch64)</li></ul></li><li>Node.js v16.14.2</li><li>Yarn 1.22.18</li><li>hardhat-tracer v1.1.0-<strong>rc.6</strong></li></ul></li></ul><p>由於本文後續會涉及使用 Hardhat Network 的內容，因此強烈推薦讀者應具備此部分操作經驗；LunDAO 亦已有此系列教學文章，歡迎多加閱讀並與大家討論。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="使用-hardhat-tracer-套件">使用 hardhat-tracer 套件<a class="hash-link" href="#使用-hardhat-tracer-套件" title="Direct link to heading">​</a></h2><p>由於 hardhat-tracer 會需要向 Ethereum node 發送 <code>debug_traceTransaction</code>、<code>eth_getStorageAt</code>、<code>eth_getCode</code> 等 JSON-RPC method 撈取歷史資料，因此務必確認您已經連接到歸檔節點（archive node）。您可以自行架設<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> archive node，或使用節點供應商提供的服務；在筆者撰文的當下，Alchemy 仍有提供免費 Ethereum mainnet archive node，因此筆者選擇使用此服務。</p><p>假設我們想知道這個 transaction<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> 的詳細過程（View on <a href="https://etherscan.io/tx/0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c" target="_blank" rel="noopener noreferrer">Etherscan</a>）：</p><blockquote><p>0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c</p></blockquote><p>關於 <code>hardhat.config.js</code> 的內容，以下僅列出與此套件有關的欄位，其他細節請參考相關說明文件。</p><div class="codeBlockContainer_J+bg language-Javascript theme-code-block"><div class="codeBlockContent_csEI Javascript"><pre tabindex="0" class="prism-code language-Javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">require(&quot;hardhat-tracer&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networks: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainnet: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          url: process.env.AlchemyURL,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hardhat: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            forking: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                url: process.env.AlchemyURL,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol><li>在資料夾底下安裝 hardhat-tracer 套件（假設該資料夾已安裝完成 Hardhat）</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn add hardhat-tracer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>執行以下指令（注意要指定 <code>--network</code> 參數<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>讓 Hardhat 能連結到正確的網路）</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="3"><li>等候數分鐘之後，就可以看到 terminal 顯示以下資訊</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn run v1.22.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Seems that it is taking time to fetch the state involved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please note that this process may take several minutes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A lot of eth_getStorageAt requests are currently being made to the rpc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CALL UnknownContractAndFunction(to=0x3b7157e5e732863170597790b4c005436572570f, input=0xf6326fb3, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   EVENT &lt;UnknownContract 0x3b7157E5E732863170597790b4c005436572570F&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0x8752a472e571a816aea92eec8dae9baf628e840f4929fbcc2d155e6233ff68a7, 0x000000000000000000000000e760f546a925a4cfdcc62a674d14cc42a676c06f, 0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CALL UnknownContractAndFunction(to=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2, input=0xd0e30db0, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      EVENT &lt;UnknownContract 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c, 0x0000000000000000000000003b7157e5e732863170597790b4c005436572570f])</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="4"><li>以上解析結果為 hardhat-tracer 預設解析模式，僅顯示 event log 和 function call；若您想要一併了解 state variables 的讀寫情況（<a href="https://www.evm.codes/#54" target="_blank" rel="noopener noreferrer"><code>SLOAD</code></a>、<a href="https://www.evm.codes/#55" target="_blank" rel="noopener noreferrer"><code>SSTORE</code></a>），那麼可以多加上 <code>--fulltrace</code> 參數</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --fulltrace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn run v1.22.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Seems that it is taking time to fetch the state involved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please note that this process may take several minutes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A lot of eth_getStorageAt requests are currently being made to the rpc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CALL UnknownContractAndFunction(to=0x3b7157e5e732863170597790b4c005436572570f, input=0xf6326fb3, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x0000000000000000000000000000000000000000000000000000000000000001 =&gt; (0x0000000000000000000000000000000000000000000000000000000000000001)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0x0000000000000000000000000000000000000000000000000000000000000001 &lt;= (0x0000000000000000000000000000000000000000000000000000000000000002)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x0000000000000000000000000000000000000000000000000000000000000005 =&gt; (0x0000000000000000000000000000000000000000000000000000000062196d80)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x0000000000000000000000000000000000000000000000000000000000000006 =&gt; (0x00000000000000000000000000000000000000000000000000000000621d6200)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x5cc08dfcef394bb3e1501dd9c602b313a910bc96e6e3b9f14c10c5608560cb26 =&gt; (0x0000000000000000000000005f4ec3df9cbd43714fe2740f5e3616155c5b8419)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56d =&gt; (0x0000000000000000000000000000000000000000000000000000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56d =&gt; (0x0000000000000000000000000000000000000000000000000000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56d &lt;= (0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56e =&gt; (0x0000000000000000000000000000000000000000000000000000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0xe49870035e3714aceb7aadebead18a1e5a95f2d32ab68a7ffb99d8329af3a56e &lt;= (0x000000000000000000000000000000000000000000000000008e1bc9bf040000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SLOAD 0x5cc08dfcef394bb3e1501dd9c602b313a910bc96e6e3b9f14c10c5608560cb27 =&gt; (0x00000000000000000000000000000000000000000000025e69bc17dc01d0d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0x5cc08dfcef394bb3e1501dd9c602b313a910bc96e6e3b9f14c10c5608560cb27 &lt;= (0x00000000000000000000000000000000000000000000025e6a4a33a5c0d4d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   EVENT &lt;UnknownContract 0x3b7157E5E732863170597790b4c005436572570F&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0x8752a472e571a816aea92eec8dae9baf628e840f4929fbcc2d155e6233ff68a7, 0x000000000000000000000000e760f546a925a4cfdcc62a674d14cc42a676c06f, 0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CALL UnknownContractAndFunction(to=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2, input=0xd0e30db0, ret=0x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      SLOAD 0x42dd4d28989ab1eee96fb196b01de4c17c0f145bc71364b95645949f1f133408 =&gt; (0x00000000000000000000000000000000000000000000025e69bc17dc01d0d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      SSTORE 0x42dd4d28989ab1eee96fb196b01de4c17c0f145bc71364b95645949f1f133408 &lt;= (0x00000000000000000000000000000000000000000000025e6a4a33a5c0d4d07f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      EVENT &lt;UnknownContract 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2&gt;.UnknownEvent(0x000000000000000000000000000000000000000000000000008e1bc9bf040000, [0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c, 0x0000000000000000000000003b7157e5e732863170597790b4c005436572570f])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SSTORE 0x0000000000000000000000000000000000000000000000000000000000000001 &lt;= (0x0000000000000000000000000000000000000000000000000000000000000001)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>到這邊為止，我們已經成功使用 hardhat-tracer 套件來解析 transaction 了。然而，以上資訊在合約地址、event 名稱等部分，以原始型態呈現造成版面冗長且混亂，不利於我們閱讀。</p><p>所幸 hardhat-tracer 套件提供 address name tag 功能，讓我們可以自定義什麼地址要以什麼名稱標籤來顯示。另外，hardhat-tracer 也支援匯入已知合約的程式碼或 <code>interface</code>，讓解析結果可以自動帶入該合約來顯示。</p><p>根據上述結果，我們可發現執行 transaction 的過程會與兩個合約互動 — <code>0x3b7157E5E732863170597790b4c005436572570F</code> 和 <code>0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2</code>；因此，我們可以前往 Etherscan 來查詢這些合約的 ABI，再搭配 <a href="https://bia.is/tools/abi2solidity/" target="_blank" rel="noopener noreferrer">ABI2Solidity</a> 來把 JSON format 轉成 solidity <code>interface</code> format。</p><ol start="5"><li>按照一般使用 Hardhat 的習慣，我們在 <code>contracts</code> 子目錄底下創建這份 solidity code <sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup></li></ol><div class="codeBlockContainer_J+bg language-solidity theme-code-block"><div class="codeBlockContent_csEI solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// SPDX-License-Identifier: GPL-3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity 0.8.7;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Assume that 0x3b7157E5E732863170597790b4c005436572570F is named as &quot;TokenSale&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface TokenSale {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function WETH (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function allocateTokensForSale ( uint256 _amount ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function availableTokens (  ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function deposit ( address _token, uint256 _amount ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function depositETH (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function enableWithdrawals (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function finalizeRaise (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getSupportedTokens (  ) external view returns ( address[] memory );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getTokenOracle ( address _token ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getTokenOracles (  ) external view returns ( address[] memory oracles );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getUserClaimableTokens ( address _user ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function owner (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function renounceOwnership (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function saleSchedule (  ) external view returns ( uint256 startTimestamp, uint256 endTimestamp );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function saleToken (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function setSaleSchedule ( uint256 _start, uint256 _end ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function totalRaisedUSD (  ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transferOwnership ( address newOwner ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transferToTreasury (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function treasury (  ) external view returns ( address );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function userAccounts ( address ) external view returns ( address token, uint256 depositedAmount );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function withdraw (  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function withdrawalsEnabled (  ) external view returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  Assume that 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2 is named as &quot;WrappedEther&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface WrappedEther {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function name (  ) external view returns ( string memory );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function approve ( address guy, uint256 wad ) external returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function totalSupply (  ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transferFrom ( address src, address dst, uint256 wad ) external returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function withdraw ( uint256 wad ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function decimals (  ) external view returns ( uint8 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function balanceOf ( address ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function symbol (  ) external view returns ( string memory );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transfer ( address dst, uint256 wad ) external returns ( bool );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function deposit (  ) external payable;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function allowance ( address, address ) external view returns ( uint256 );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="6"><li>執行 <code>$ yarn hardhat compile</code> 編譯所有 solidity codes</li><li>進入 <code>hardhat.config.js</code> 新增以下欄位，讓特定 address 以開發者自定義的名稱標籤（name tage）顯示</li></ol><div class="codeBlockContainer_J+bg language-Javascript theme-code-block"><div class="codeBlockContent_csEI Javascript"><pre tabindex="0" class="prism-code language-Javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tracer: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nameTags: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;0x3b7157E5E732863170597790b4c005436572570F&quot;]: &quot;TokenSale&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2&quot;]: &quot;WrappedEther&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;0xe760f546a925a4cfdcc62a674d14cc42a676c06f&quot;]: &quot;Someone&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="8"><li>重新執行 hardhat-tracer 指令，我們可以看到可讀性變得很高（比起 step 3 來說）</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn hardhat --network &quot;hardhat&quot; trace --hash &quot;0xca722f52d743bfecb555993d64439aa6e6653914ad87073fb27bfbe42f67d62c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn run v1.22.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Seems that it is taking time to fetch the state involved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please note that this process may take several minutes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A lot of eth_getStorageAt requests are currently being made to the rpc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CALL TokenSale.depositETH{value: 40000000000000000}()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   EVENT TokenSale.Deposited(depositor=[Someone], token=[WrappedEther], amount=40000000000000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CALL WrappedEther.deposit{value: 40000000000000000}()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      EVENT WrappedEther.Deposit(dst=[TokenSale], wad=40000000000000000)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="使用圖形化介面工具">使用圖形化介面工具<a class="hash-link" href="#使用圖形化介面工具" title="Direct link to heading">​</a></h2><p>除了使用上述套件之外，目前也有許多網站提供免費解析 transaction 的服務。</p><p>假設我們想知道以下這筆 transaction<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> 的執行過程（View on <a href="https://etherscan.io/tx/0x4a7c2dabf8695f18835ff2aeb133df1a89f0af3759b1832e493bee10e721d998" target="_blank" rel="noopener noreferrer">Etherscan</a>）：</p><blockquote><p>0x4a7c2dabf8695f18835ff2aeb133df1a89f0af3759b1832e493bee10e721d998</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="etherscan-parity-trace">Etherscan Parity Trace<a class="hash-link" href="#etherscan-parity-trace" title="Direct link to heading">​</a></h3><p><img alt="etherscan-parity-trace-1" src="/assets/images/etherscan-parity-trace-1-f6f5b0ed86a42c5bd83a495015d9892b.png"></p><p>如上圖所示，點擊「Parity Trace」選項之後，將開啟如同下圖的另一個分頁。</p><p><img alt="etherscan-parity-trace-2" src="/assets/images/etherscan-parity-trace-2-0bda0dcd2a348ec3d05a352492c6dfb8.png"></p><p>此方法呈現的效果較不視覺化，然而應為目前最通用的分析方式；不只 Etherscan 有支援 Parity VM tracer，其它的 block explorer 網站應能找到類似功能。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="etherscan-transaction-decoder">Etherscan Transaction Decoder<a class="hash-link" href="#etherscan-transaction-decoder" title="Direct link to heading">​</a></h3><p><img alt="etherscan-txn-decoder-1" src="/assets/images/etherscan-txn-decoder-1-65d6e511e86f3ebf684c25336c16b281.png"></p><p>如上圖所示，點擊「Transaction Decoder」選項之後，將開啟如同下圖的另一個分頁。</p><p><img alt="etherscan-txn-decoder-2" src="/assets/images/etherscan-txn-decoder-2-1202fa176aa1c5635f7023be81800d31.png"></p><p>可以看到 Etherscan 已經分門別類地將執行 transaction 的過程會發出的 event log、message call 等重要事件，以條列表格的方式呈現出來。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="ethtxinfo">EthTx.info<a class="hash-link" href="#ethtxinfo" title="Direct link to heading">​</a></h3><p>此服務以 Python 撰寫的<a href="https://github.com/ethtx/ethtx" target="_blank" rel="noopener noreferrer">開源軟體</a>所建立，並由 <a href="https://tokenflow.live/" target="_blank" rel="noopener noreferrer">Token Flow</a> 團隊所維護，在筆者撰文當下為免費公開讓所有開發者自由使用。</p><ol><li>前往 <a href="https://ethtx.info/" target="_blank" rel="noopener noreferrer">https://ethtx.info/</a></li><li>選擇正確的網路（此例為 ETH mainnet），並輸入對應的 transaction hash</li><li>按下「Decode now」按鈕，並靜候數分鐘（可能因網站壅塞度而有不同）</li></ol><p><img alt="ethtx-info" src="/assets/images/ethtx-info-e2451a0889dfe855f9ebe1359b2d822f.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="tenderly">Tenderly<a class="hash-link" href="#tenderly" title="Direct link to heading">​</a></h3><p>前往 <a href="https://dashboard.tenderly.co/explorer" target="_blank" rel="noopener noreferrer">Tenderly</a> 官網，在搜尋框當中輸入 transaction hash 並按下送出查詢，即可獲得如下圖所示的網頁。</p><p><img alt="tenderly" src="/assets/images/tenderly-324a5603c3d17cc1084b89eaee38ce5c.png"></p><p>由於 Tenderly 不只提供分析 transaction 的功能，還有需多實用的其它工具（例如：simulator、local transaction analysis）；若讀者有興趣的話，建議可註冊一個免費帳號。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="related-resources">Related resources<a class="hash-link" href="#related-resources" title="Direct link to heading">​</a></h2><ul><li>Hardhat<ul><li><a href="https://hardhat.org/config/" target="_blank" rel="noopener noreferrer">https://hardhat.org/config/</a></li></ul></li><li>Alchemy<ul><li><a href="https://www.alchemy.com/" target="_blank" rel="noopener noreferrer">https://www.alchemy.com/</a></li><li><a href="https://docs.alchemy.com/alchemy/enhanced-apis/debug-api" target="_blank" rel="noopener noreferrer">https://docs.alchemy.com/alchemy/enhanced-apis/debug-api</a></li></ul></li><li>Smart Contracts at Etherscan<ul><li><a href="https://etherscan.io/address/0x3b7157E5E732863170597790b4c005436572570F" target="_blank" rel="noopener noreferrer">https://etherscan.io/address/0x3b7157E5E732863170597790b4c005436572570F</a></li><li><a href="https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2" target="_blank" rel="noopener noreferrer">https://etherscan.io/address/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2</a></li></ul></li><li>hardhat-tracer<ul><li><a href="https://www.npmjs.com/package/hardhat-tracer" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/hardhat-tracer</a></li><li><a href="https://github.com/zemse/hardhat-tracer" target="_blank" rel="noopener noreferrer">https://github.com/zemse/hardhat-tracer</a></li></ul></li><li>ABI2Solidity<ul><li><a href="https://bia.is/tools/abi2solidity/" target="_blank" rel="noopener noreferrer">https://bia.is/tools/abi2solidity/</a></li><li><a href="https://github.com/maxme/abi2solidity" target="_blank" rel="noopener noreferrer">https://github.com/maxme/abi2solidity</a></li></ul></li><li>Etherscan Transaction Decoder<ul><li><a href="https://etherscan.io/tx-decoder" target="_blank" rel="noopener noreferrer">https://etherscan.io/tx-decoder</a></li></ul></li><li>EthTx.info<ul><li><a href="https://github.com/ethtx/ethtx" target="_blank" rel="noopener noreferrer">https://github.com/ethtx/ethtx</a></li></ul></li><li>Tenderly<ul><li><a href="https://dashboard.tenderly.co/explorer" target="_blank" rel="noopener noreferrer">https://dashboard.tenderly.co/explorer</a></li></ul></li></ul><div class="footnotes"><hr><ol><li id="fn-2">需要準備大容量 SSD，其餘硬體條件較無嚴苛限制（樹梅派 4B 即足以運行 Go-Ethereum）<a href="#fnref-2" class="footnote-backref">↩</a></li><li id="fn-1">筆者隨機挑選的 transaction hash，並沒有任何特殊用意<a href="#fnref-1" class="footnote-backref">↩</a></li><li id="fn-3">由於 <code>debug_traceTransaction</code> 屬於 Alchemy 需付費的 API method，因此若讀者使用 Growth 以上的方案，那麼您可以直接以 <code>--network &quot;mainnet&quot;</code> 連結 Alchemy；另一種免費的替代方案則為改用 Hardhat Network 來解析 transaction，只對 Alchemy 發送 <code>eth_getStorageAt</code>、<code>eth_getCode</code> 等請求，因此筆者在此以 <code>--network &quot;hardhat&quot;</code> 參數舉例<a href="#fnref-3" class="footnote-backref">↩</a></li><li id="fn-4">如果讀者知道待解析 transaction 的所有互動合約 source code，那麼推薦您直接把那些程式碼加入 <code>contracts</code> 子目錄底下做編譯，這樣能讓 hardhat-tracer 顯示結果擁有最高的可讀性；若無法取得所有 source code，則只使用合約們 ABI 所轉成的 <code>interface</code> 做編譯亦可。<a href="#fnref-4" class="footnote-backref">↩</a></li></ol></div></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_xD8n"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/hardhat">Hardhat</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/nomic-labs">Nomic Labs</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/plugin">Plugin</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/trace-transactions">Trace Transactions</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/lun-dao/LunDAO/tree/main/blog/2022-05-22-hardhat-tracer/hardhat-tracer.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/diamond101-3"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« <!-- -->Diamond 101 (3)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/hardhat-intro"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Hardhat 簡介<!-- --> »</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#安裝環境與注意事項" class="table-of-contents__link toc-highlight">安裝環境與注意事項</a></li><li><a href="#使用-hardhat-tracer-套件" class="table-of-contents__link toc-highlight">使用 hardhat-tracer 套件</a></li><li><a href="#使用圖形化介面工具" class="table-of-contents__link toc-highlight">使用圖形化介面工具</a><ul><li><a href="#etherscan-parity-trace" class="table-of-contents__link toc-highlight">Etherscan Parity Trace</a></li><li><a href="#etherscan-transaction-decoder" class="table-of-contents__link toc-highlight">Etherscan Transaction Decoder</a></li><li><a href="#ethtxinfo" class="table-of-contents__link toc-highlight">EthTx.info</a></li><li><a href="#tenderly" class="table-of-contents__link toc-highlight">Tenderly</a></li></ul></li><li><a href="#related-resources" class="table-of-contents__link toc-highlight">Related resources</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">關於</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/lun-dao/LunDAO" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>關於 LunDAO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/publish-guideline">投稿文章</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">閱讀文章</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/request-for-article">文章提案</a></li><li class="footer__item"><a href="https://github.com/lun-dao/LunDAO/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>社群貢獻指南<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">DAO治理</div><ul class="footer__items"><li class="footer__item"><a href="https://coordinape.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>貢獻投票 (Coordinape)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://snapshot.org/#/lundao.eth" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>治理投票 (Snapshot)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/treasury">社群金庫</a></li></ul></div><div class="col footer__col"><div class="footer__title">社群</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/lun-dao/LunDAO/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>討論區<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/9s3RQmajBu" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 LunDAO. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.67d47840.js"></script>
<script src="/assets/js/main.2d5310ba.js"></script>
</body>
</html>